
{% extends 'base.j2' %}


{% block title %}Courses{% endblock %}


{% block sidebar %}
<ul>
{% for course in courses %}
<li><a href="{{ url_for('course_page', course_id=course.id)}}">{{ course.get_title() }}</a></li>
{% endfor %}
</ul>
{% endblock %}

{% block content %}
<h1>Courses</h1>

<!-- sort options go here -->
<div class="form-check">
    <input type="checkbox" class="form-check-input" id="filterCoursesCheckbox" checked>
    <label class="form-check-label" for="filterCoursesCheckbox">Show only courses with sections</label>
</div>
<div id="courses-div">
{% for course in courses %}
    {% include 'course_partial.j2'%}
{% endfor %}
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const filterCoursesCheckbox = document.getElementById("filterCoursesCheckbox");
        filterCoursesCheckbox.addEventListener("change", function () {
            const courses = document.getElementsByClassName("course-nosection");
            for (let i = 0; i < courses.length; i++) {
                if (filterCoursesCheckbox.checked) {
                    courses[i].style.display = "none";
                } else {
                    courses[i].style.display = "block";
                }
            }
        });
    });
    </script>
{% endblock %}
